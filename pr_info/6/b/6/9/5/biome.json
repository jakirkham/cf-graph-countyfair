{
 "bad": {
  "exception": "[Errno 1] Operation not permitted: '/tmp/tmpoxd16ehl/source_dir'",
  "traceback": [
   "Traceback (most recent call last):",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 70, in provide_source_code_containerized",
   "    run_container_task(",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/utils.py\", line 249, in run_container_task",
   "    raise RuntimeError(",
   "RuntimeError: Error running provide-source-code in container - error RuntimeError(\"conda build src exception:[Errno 2] No such file or directory: '/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\") raised:",
   "cmd: ['docker',",
   " 'run',",
   " '-e',",
   " 'CF_TICK_IN_CONTAINER=true',",
   " '--security-opt=no-new-privileges',",
   " '--read-only',",
   " '--cap-drop=all',",
   " '--mount',",
   " 'type=tmpfs,destination=/tmp,tmpfs-mode=1777,tmpfs-size=6000000000',",
   " '-m',",
   " '6000m',",
   " '--cpus',",
   " '1',",
   " '--ulimit',",
   " 'nofile=1024:1024',",
   " '--ulimit',",
   " 'nproc=2048:2048',",
   " '--rm',",
   " '-i',",
   " '--mount',",
   " 'type=bind,source=/tmp/tmpoxd16ehl,destination=/cf_tick_dir',",
   " 'ghcr.io/regro/conda-forge-tick:master',",
   " '/opt/conda/envs/cf-scripts/bin/python',",
   " '-u',",
   " '/opt/autotick-bot/docker/run_bot_task.py',",
   " 'provide-source-code',",
   " '--log-level',",
   " 'info']",
   "stdout: {'data': None,",
   " 'error': 'RuntimeError(\"conda build src exception:[Errno 2] No such file or '",
   "          'directory: '",
   "          '\\'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script\\'\")',",
   " 'traceback': 'Traceback (most recent call last):\\n'",
   "              '  File '",
   "              '\"/opt/autotick-bot/conda_forge_tick/provide_source_code.py\", '",
   "              'line 117, in provide_source_code_local\\n'",
   "              '    yield provide(md)\\n'",
   "              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 153, in '",
   "              '_provide_source_code\\n'",
   "              '    sync_dirs(\\n'",
   "              '  File \"/opt/autotick-bot/conda_forge_tick/os_utils.py\", line '",
   "              '114, in sync_dirs\\n'",
   "              '    shutil.copyfile(src_fname, dest_fname)\\n'",
   "              '  File \"/opt/conda/envs/cf-scripts/lib/python3.11/shutil.py\", '",
   "              'line 256, in copyfile\\n'",
   "              \"    with open(src, 'rb') as fsrc:\\n\"",
   "              '         ^^^^^^^^^^^^^^^\\n'",
   "              'FileNotFoundError: [Errno 2] No such file or directory: '",
   "              \"'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\\n\"",
   "              '\\n'",
   "              'During handling of the above exception, another exception '",
   "              'occurred:\\n'",
   "              '\\n'",
   "              'Traceback (most recent call last):\\n'",
   "              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 118, in '",
   "              '_run_bot_task\\n'",
   "              '    data = func(**kwargs)\\n'",
   "              '           ^^^^^^^^^^^^^^\\n'",
   "              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 151, in '",
   "              '_provide_source_code\\n'",
   "              '    with provide_source_code_local(recipe_dir) as cb_work_dir:\\n'",
   "              '  File '",
   "              '\"/opt/conda/envs/cf-scripts/lib/python3.11/contextlib.py\", line '",
   "              '158, in __exit__\\n'",
   "              '    self.gen.throw(typ, value, traceback)\\n'",
   "              '  File '",
   "              '\"/opt/autotick-bot/conda_forge_tick/provide_source_code.py\", '",
   "              'line 119, in provide_source_code_local\\n'",
   "              '    raise RuntimeError(\"conda build src exception:\" + str(e))\\n'",
   "              'RuntimeError: conda build src exception:[Errno 2] No such file '",
   "              'or directory: '",
   "              \"'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\\n\"}",
   "",
   "During handling of the above exception, another exception occurred:",
   "",
   "Traceback (most recent call last):",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 701, in _rmtree_safe_fd",
   "    os.unlink(entry.name, dir_fd=topfd)",
   "PermissionError: [Errno 13] Permission denied: 'Cargo.toml'",
   "",
   "During handling of the above exception, another exception occurred:",
   "",
   "Traceback (most recent call last):",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/auto_tick.py\", line 567, in _run_migrator_on_feedstock_branch",
   "    migrator_uid, pr_json = run(",
   "                            ^^^^",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/auto_tick.py\", line 214, in run",
   "    migration_run_data = run_migration(",
   "                         ^^^^^^^^^^^^^^",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migration_runner.py\", line 35, in run_migration",
   "    return run_migration_local(",
   "           ^^^^^^^^^^^^^^^^^^^^",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migration_runner.py\", line 140, in run_migration_local",
   "    migrator.run_post_piggyback_migrations(recipe_dir, feedstock_ctx.attrs, **kwargs)",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migrators/core.py\", line 437, in run_post_piggyback_migrations",
   "    mini_migrator.migrate(recipe_dir, attrs, **kwargs)",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migrators/cross_compile.py\", line 42, in migrate",
   "    with provide_source_code(recipe_dir) as cb_work_dir:",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/contextlib.py\", line 137, in __enter__",
   "    return next(self.gen)",
   "           ^^^^^^^^^^^^^^",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 33, in provide_source_code",
   "    with provide_source_code_containerized(recipe_dir) as source_dir:",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/contextlib.py\", line 137, in __enter__",
   "    return next(self.gen)",
   "           ^^^^^^^^^^^^^^",
   "  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 57, in provide_source_code_containerized",
   "    with tempfile.TemporaryDirectory() as tmpdir:",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 943, in __exit__",
   "    self.cleanup()",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 947, in cleanup",
   "    self._rmtree(self.name, ignore_errors=self._ignore_cleanup_errors)",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 929, in _rmtree",
   "    _shutil.rmtree(name, onerror=onerror)",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 752, in rmtree",
   "    _rmtree_safe_fd(fd, path, onerror)",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 672, in _rmtree_safe_fd",
   "    _rmtree_safe_fd(dirfd, fullname, onerror)",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 703, in _rmtree_safe_fd",
   "    onerror(os.unlink, fullname, sys.exc_info())",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 889, in onerror",
   "    _resetperms(_os.path.dirname(path))",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 287, in _resetperms",
   "    _dont_follow_symlinks(_os.chmod, path, 0o700)",
   "  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 278, in _dont_follow_symlinks",
   "    func(path, *args)",
   "PermissionError: [Errno 1] Operation not permitted: '/tmp/tmpoxd16ehl/source_dir'",
   ""
  ]
 },
 "pre_pr_migrator_attempts": {
  "armosxaddition": 3
 },
 "pre_pr_migrator_status": {
  "armosxaddition": "bot error (<a href=\"https://github.com/regro/cf-scripts/actions/runs/9167242221\">bot CI job</a>): main: Traceback (most recent call last):\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 70, in provide_source_code_containerized\n    run_container_task(\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/utils.py\", line 249, in run_container_task\n    raise RuntimeError(\nRuntimeError: Error running provide-source-code in container - error RuntimeError(\"conda build src exception:[Errno 2] No such file or directory: '/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\") raised:\ncmd: ['docker',\n 'run',\n '-e',\n 'CF_TICK_IN_CONTAINER=true',\n '--security-opt=no-new-privileges',\n '--read-only',\n '--cap-drop=all',\n '--mount',\n 'type=tmpfs,destination=/tmp,tmpfs-mode=1777,tmpfs-size=6000000000',\n '-m',\n '6000m',\n '--cpus',\n '1',\n '--ulimit',\n 'nofile=1024:1024',\n '--ulimit',\n 'nproc=2048:2048',\n '--rm',\n '-i',\n '--mount',\n 'type=bind,source=/tmp/tmpoxd16ehl,destination=/cf_tick_dir',\n 'ghcr.io/regro/conda-forge-tick:master',\n '/opt/conda/envs/cf-scripts/bin/python',\n '-u',\n '/opt/autotick-bot/docker/run_bot_task.py',\n 'provide-source-code',\n '--log-level',\n 'info']\nstdout: {'data': None,\n 'error': 'RuntimeError(\"conda build src exception:[Errno 2] No such file or '\n          'directory: '\n          '\\'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script\\'\")',\n 'traceback': 'Traceback (most recent call last):\\n'\n              '  File '\n              '\"/opt/autotick-bot/conda_forge_tick/provide_source_code.py\", '\n              'line 117, in provide_source_code_local\\n'\n              '    yield provide(md)\\n'\n              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 153, in '\n              '_provide_source_code\\n'\n              '    sync_dirs(\\n'\n              '  File \"/opt/autotick-bot/conda_forge_tick/os_utils.py\", line '\n              '114, in sync_dirs\\n'\n              '    shutil.copyfile(src_fname, dest_fname)\\n'\n              '  File \"/opt/conda/envs/cf-scripts/lib/python3.11/shutil.py\", '\n              'line 256, in copyfile\\n'\n              \"    with open(src, 'rb') as fsrc:\\n\"\n              '         ^^^^^^^^^^^^^^^\\n'\n              'FileNotFoundError: [Errno 2] No such file or directory: '\n              \"'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\\n\"\n              '\\n'\n              'During handling of the above exception, another exception '\n              'occurred:\\n'\n              '\\n'\n              'Traceback (most recent call last):\\n'\n              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 118, in '\n              '_run_bot_task\\n'\n              '    data = func(**kwargs)\\n'\n              '           ^^^^^^^^^^^^^^\\n'\n              '  File \"/opt/autotick-bot/docker/run_bot_task.py\", line 151, in '\n              '_provide_source_code\\n'\n              '    with provide_source_code_local(recipe_dir) as cb_work_dir:\\n'\n              '  File '\n              '\"/opt/conda/envs/cf-scripts/lib/python3.11/contextlib.py\", line '\n              '158, in __exit__\\n'\n              '    self.gen.throw(typ, value, traceback)\\n'\n              '  File '\n              '\"/opt/autotick-bot/conda_forge_tick/provide_source_code.py\", '\n              'line 119, in provide_source_code_local\\n'\n              '    raise RuntimeError(\"conda build src exception:\" + str(e))\\n'\n              'RuntimeError: conda build src exception:[Errno 2] No such file '\n              'or directory: '\n              \"'/tmp/tmpv2qnieqr/conda-bld/biome_1716255909652/work/fuzz/corpus/rome_parse_script'\\n\"}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 701, in _rmtree_safe_fd\n    os.unlink(entry.name, dir_fd=topfd)\nPermissionError: [Errno 13] Permission denied: 'Cargo.toml'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/auto_tick.py\", line 567, in _run_migrator_on_feedstock_branch\n    migrator_uid, pr_json = run(\n                            ^^^^\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/auto_tick.py\", line 214, in run\n    migration_run_data = run_migration(\n                         ^^^^^^^^^^^^^^\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migration_runner.py\", line 35, in run_migration\n    return run_migration_local(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migration_runner.py\", line 140, in run_migration_local\n    migrator.run_post_piggyback_migrations(recipe_dir, feedstock_ctx.attrs, **kwargs)\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migrators/core.py\", line 437, in run_post_piggyback_migrations\n    mini_migrator.migrate(recipe_dir, attrs, **kwargs)\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/migrators/cross_compile.py\", line 42, in migrate\n    with provide_source_code(recipe_dir) as cb_work_dir:\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 33, in provide_source_code\n    with provide_source_code_containerized(recipe_dir) as source_dir:\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/contextlib.py\", line 137, in __enter__\n    return next(self.gen)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/cf-scripts/cf-scripts/cf-scripts/conda_forge_tick/provide_source_code.py\", line 57, in provide_source_code_containerized\n    with tempfile.TemporaryDirectory() as tmpdir:\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 943, in __exit__\n    self.cleanup()\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 947, in cleanup\n    self._rmtree(self.name, ignore_errors=self._ignore_cleanup_errors)\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 929, in _rmtree\n    _shutil.rmtree(name, onerror=onerror)\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 752, in rmtree\n    _rmtree_safe_fd(fd, path, onerror)\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 672, in _rmtree_safe_fd\n    _rmtree_safe_fd(dirfd, fullname, onerror)\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/shutil.py\", line 703, in _rmtree_safe_fd\n    onerror(os.unlink, fullname, sys.exc_info())\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 889, in onerror\n    _resetperms(_os.path.dirname(path))\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 287, in _resetperms\n    _dont_follow_symlinks(_os.chmod, path, 0o700)\n  File \"/home/runner/micromamba/envs/cf-scripts/lib/python3.11/tempfile.py\", line 278, in _dont_follow_symlinks\n    func(path, *args)\nPermissionError: [Errno 1] Operation not permitted: '/tmp/tmpoxd16ehl/source_dir'\n"
 }
}